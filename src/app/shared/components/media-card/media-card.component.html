<div class="h-full border-container box-border relative shadow-md">
  <div class="w-full border-separator-media">
    <app-bookmark-status-label
      [bookmarkEnumSelected]="bookmarkEnumSelected"
      [customClass]="borderBookmarkLabelClass"
      [isUserAuthenticated]="(isUserAuthenticated$ | async) ?? false"
    ></app-bookmark-status-label>
  </div>
  <div
    class="flex"
    [ngClass]="{
      'flex-row 510:flex-col': direction === 'vertical',
      'flex-col': direction === 'horizontal'
    }"
  >
    <div
      class="min-h-[158px] aspect-[2/3] hover:opacity-80 transition-opacity ease-in-out delay-50"
      [ngClass]="{
        'w-[105px] 510:w-full': direction === 'vertical',
        'w-full': direction === 'horizontal'
      }"
    >
      <app-img
        [alt]="title"
        [title]="title"
        [imgSrc]="media.poster_path"
        [baseUrlLg]="TMDB_PROFILE_440W_660H_IMG_URL"
        [baseUrlSm]="TMDB_PROFILE_260W_390H_IMG_URL"
        [link]="detailMediaPath"
        [customClasses]="borderImgClass"
      ></app-img>
    </div>
    <div class="w-full">
      <div class="card-content space-y-1">
        <div>
          <h4>
            <a [routerLink]="[detailMediaPath]" [title]="title">{{ title }}</a>
          </h4>

          <h5>
            {{ releaseDate | date : "longDate" }}
          </h5>
        </div>
        @if(voteAverage){
        <div>
          <app-rating [voteAverage]="voteAverage"></app-rating>
        </div>
        }
      </div>
    </div>
    @if(isUserAuthenticated$ | async; as isUserAuthenticated){
    <app-bookmark-selector
      (bookmarkStatusElementEmitter)="setBookmarkStatusElement($event)"
      [mediaData]="media"
      [index]="index"
      [mediaType]="mediaType"
      [personIdentifier]="personIdentifier"
      [direction]="direction"
      [isDetail]="false"
    ></app-bookmark-selector>
    } @else {
    <app-bookmark-disabled-dialog
      [direction]="direction"
      [isDetail]="false"
    ></app-bookmark-disabled-dialog>
    }
  </div>
</div>
